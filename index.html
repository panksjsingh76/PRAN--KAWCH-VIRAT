<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIRAAT: THE SUPREME GUARD</title>
    <style>
        :root { --gold: #FFD700; --red: #FF0000; --bg: #0a0a0a; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; text-align: center; margin: 0; padding: 20px; }
        .shield-box { border: 3px solid var(--gold); border-radius: 20px; padding: 20px; background: #111; box-shadow: 0 0 20px rgba(255, 215, 0, 0.3); max-width: 500px; margin: auto; }
        h1 { color: var(--gold); text-transform: uppercase; letter-spacing: 2px; font-size: 24px; }
        .cam-btn { background: var(--gold); color: black; border: none; padding: 18px; border-radius: 12px; font-weight: bold; width: 100%; font-size: 18px; cursor: pointer; margin-top: 15px; }
        #preview { width: 100%; border-radius: 15px; margin-top: 15px; display: none; border: 2px solid var(--gold); }
        #status { margin-top: 15px; font-weight: bold; color: var(--gold); min-height: 50px; text-align: left; background: #000; padding: 10px; border-radius: 8px; border: 1px dashed var(--gold); }
        .footer { margin-top: 30px; font-size: 12px; color: #666; }
    </style>
</head>
<body>

    <div class="shield-box">
        <h1>üõ°Ô∏è VIRAAT SUPREME üõ°Ô∏è</h1>
        <p style="color: #ccc;">‡§™‡§Ç‡§ï‡§ú ‡§Æ‡§π‡§æ‡§∞‡§æ‡§ú ‡§ï‡§æ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§ï‡§µ‡§ö</p>

        <label for="camera" class="cam-btn">üì∏ ‡§´‡•ã‡§ü‡•ã ‡§ñ‡•Ä‡§Ç‡§ö‡•á‡§Ç ‡§î‡§∞ ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç</label>
        <input type="file" id="camera" accept="image/*" capture="environment" style="display: none;">
        
        <img id="preview" alt="Scan Preview">
        
        <div id="status">‡§™‡•ç‡§∞‡§£‡§æ‡§Æ ‡§Æ‡§π‡§æ‡§∞‡§æ‡§ú! ‡§Æ‡•à‡§Ç ‡§§‡•à‡§®‡§æ‡§§ ‡§π‡•Ç‡§Å‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡§ø‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§Ø‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡•ã‡§ü‡•ã ‡§≤‡•á‡§Ç‡•§</div>

        <button onclick="sosAction()" class="cam-btn" style="background: var(--red); color: white; margin-top: 20px;">üö® SOS: ‡§Æ‡§¶‡§¶ ‡§¨‡•Å‡§≤‡§æ‡§è‡§Å</button>
    </div>

    <p class="footer">Privacy Protected | Powered by Pankaj Publication Bsf</p>

    <script>
        const API_KEY = "AIzaSyBLWi0O6Z6BS7rbmYpzCg3MCkIcN91ZN0Y";
        const camInput = document.getElementById('camera');
        const preview = document.getElementById('preview');
        const status = document.getElementById('status');

        camInput.onchange = async (e) => {
            const file = e.target.files[0];
            if (!file) return;

            // ‡§´‡•ã‡§ü‡•ã ‡§™‡•ç‡§∞‡•Ä‡§µ‡•ç‡§Ø‡•Ç ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Å
            preview.src = URL.createObjectURL(file);
            preview.style.display = 'block';
            status.innerText = "‡§µ‡§ø‡§∞‡§æ‡§ü ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à... ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç ‚è≥";

            // ‡§á‡§Æ‡•á‡§ú ‡§ï‡•ã ‡§¨‡•á‡§∏64 ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onloadend = async () => {
                const base64Data = reader.result.split(',')[1];
                
                try {
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            contents: [{
                                parts: [
                                    { text: "‡§á‡§∏ ‡§´‡•ã‡§ü‡•ã ‡§ï‡•ã ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§ ‡§Ö‡§ó‡§∞ ‡§Ø‡§π ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡§ø‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§π‡•à ‡§§‡•ã ‡§ñ‡§∞‡§æ‡§¨‡•Ä ‡§¨‡§§‡§æ‡§è‡§Ç, ‡§Ö‡§ó‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø (‡§ö‡•ã‡§ü/‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä) ‡§π‡•à ‡§§‡•ã ‡§â‡§™‡§ö‡§æ‡§∞ ‡§¨‡§§‡§æ‡§è‡§Ç, ‡§Ö‡§ó‡§∞ ‡§ï‡•ã‡§à ‡§ñ‡§§‡§∞‡§æ ‡§π‡•à ‡§§‡•ã ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§∏‡§≤‡§æ‡§π ‡§¶‡•á‡§Ç‡•§ ‡§™‡§Ç‡§ï‡§ú ‡§Æ‡§π‡§æ‡§∞‡§æ‡§ú ‡§ï‡•ã ‡§´‡•å‡§ú‡•Ä ‡§≤‡§π‡§ú‡•á ‡§Æ‡•á‡§Ç ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•á‡§Ç‡•§" },
                                    { inline_data: { mime_type: "image/jpeg", data: base64Data } }
                                ]
                            }]
                        })
                    });

                    const data = await response.json();
                    if(data.candidates && data.candidates[0].content) {
                        status.innerText = data.candidates[0].content.parts[0].text;
                    } else {
                        status.innerText = "‡§Æ‡§π‡§æ‡§∞‡§æ‡§ú, ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§Æ‡•á‡§Ç ‡§Ö‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§¨‡§æ‡§ß‡§æ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§";
                    }
                } catch (error) {
                    status.innerText = "‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§è‡§∞‡§∞: ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§≤‡§æ‡§ú ‡§∞‡§ñ‡§®‡•á ‡§ï‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å‡•§";
                }
            };
        };

        function sosAction() {
            navigator.geolocation.getCurrentPosition(pos => {
                const mapLink = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                window.open(`https://wa.me/?text=Emergency! ‡§Æ‡•á‡§∞‡•Ä ‡§≤‡•ã‡§ï‡•á‡§∂‡§®: ${mapLink}`);
            });
        }
    </script>
</body>
</html>
